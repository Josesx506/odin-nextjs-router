(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5],{4775:(e,t,r)=>{Promise.resolve().then(r.bind(r,96))},9948:(e,t,r)=>{"use strict";r.d(t,{default:()=>l.a});var n=r(6791),l=r.n(n)},376:(e,t,r)=>{"use strict";var n=r(3192);r.o(n,"useParams")&&r.d(t,{useParams:function(){return n.useParams}}),r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}}),r.o(n,"useSearchParams")&&r.d(t,{useSearchParams:function(){return n.useSearchParams}})},6791:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return d}});let n=r(5155),l=r(2115),u=r(9430),a=r(7234),o=r(9551),s=r(748),i=r(6267),c=r(2938),f=["method","encType","target"];function d(e){let{replace:t,scroll:r,prefetch:d,ref:v,...y}=e,j=function(){let e=(0,l.useContext)(c.RouterContext),t=(0,l.useContext)(s.AppRouterContext);return e||t}(),x=y.action,_="string"==typeof x,g=!1===d||null===d?d:null;for(let e of f)e in y&&delete y[e];let w=m(j)&&_&&null===g,[P,N]=(0,a.useIntersection)({rootMargin:"200px",disabled:!w}),C=(0,o.useMergedRef)(P,null!=v?v:null);if((0,l.useEffect)(()=>{if(N&&w)try{let e=i.PrefetchKind.AUTO;j.prefetch(x,{kind:e})}catch(e){console.error(e)}},[w,N,x,g,j]),!_)return(0,n.jsx)("form",{...y,ref:C});let I=(0,u.addBasePath)(x);return(0,n.jsx)("form",{...y,ref:C,action:I,onSubmit:e=>(function(e,t){let r,{actionHref:n,onSubmit:l,replace:u,scroll:a,router:o}=t;if("function"==typeof l&&(l(e),e.defaultPrevented))return;let s=e.currentTarget,i=e.nativeEvent.submitter,c=n;if(i){if(function(e){let t=e.getAttribute("formEncType");if(null!==t&&!h(t))return!0;let r=e.getAttribute("formMethod");if(null!==r&&!p(r))return!0;let n=e.getAttribute("formTarget");return!(null===n||b(n))}(i)||function(e){let t=e.getAttribute("formAction");return t&&/\s*javascript:/i.test(t)}(i))return;let e=i.getAttribute("formAction");null!==e&&(c=e)}try{let e=window.location.href;r=new URL(c,e)}catch(e){throw Error('Cannot parse form action "'+c+'" as a URL',{cause:e})}for(let[e,t]of(r.searchParams.size&&(r.search=""),new FormData(s)))"string"!=typeof t&&(t=t.name),r.searchParams.append(e,t);e.preventDefault();let f=u?"replace":"push",d=r.href;m(o)?o[f](d,{scroll:a}):o[f](d,void 0,{scroll:a})})(e,{router:j,actionHref:I,replace:t,scroll:r,onSubmit:y.onSubmit})})}function m(e){return!("asPath"in e)}let h=e=>"application/x-www-form-urlencoded"===e,p=e=>"get"===e,b=e=>"_self"===e;("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},5033:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{cancelIdleCallback:function(){return n},requestIdleCallback:function(){return r}});let r="undefined"!=typeof self&&self.requestIdleCallback&&self.requestIdleCallback.bind(window)||function(e){let t=Date.now();return self.setTimeout(function(){e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-t))}})},1)},n="undefined"!=typeof self&&self.cancelIdleCallback&&self.cancelIdleCallback.bind(window)||function(e){return clearTimeout(e)};("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},7234:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useIntersection",{enumerable:!0,get:function(){return s}});let n=r(2115),l=r(5033),u="function"==typeof IntersectionObserver,a=new Map,o=[];function s(e){let{rootRef:t,rootMargin:r,disabled:s}=e,i=s||!u,[c,f]=(0,n.useState)(!1),d=(0,n.useRef)(null),m=(0,n.useCallback)(e=>{d.current=e},[]);return(0,n.useEffect)(()=>{if(u){if(i||c)return;let e=d.current;if(e&&e.tagName)return function(e,t,r){let{id:n,observer:l,elements:u}=function(e){let t;let r={root:e.root||null,margin:e.rootMargin||""},n=o.find(e=>e.root===r.root&&e.margin===r.margin);if(n&&(t=a.get(n)))return t;let l=new Map;return t={id:r,observer:new IntersectionObserver(e=>{e.forEach(e=>{let t=l.get(e.target),r=e.isIntersecting||e.intersectionRatio>0;t&&r&&t(r)})},e),elements:l},o.push(r),a.set(r,t),t}(r);return u.set(e,t),l.observe(e),function(){if(u.delete(e),l.unobserve(e),0===u.size){l.disconnect(),a.delete(n);let e=o.findIndex(e=>e.root===n.root&&e.margin===n.margin);e>-1&&o.splice(e,1)}}}(e,e=>e&&f(e),{root:null==t?void 0:t.current,rootMargin:r})}else if(!c){let e=(0,l.requestIdleCallback)(()=>f(!0));return()=>(0,l.cancelIdleCallback)(e)}},[i,r,t,c,d.current]),[m,c,(0,n.useCallback)(()=>{f(!1)},[])]}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},9551:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useMergedRef",{enumerable:!0,get:function(){return l}});let n=r(2115);function l(e,t){let r=(0,n.useRef)(()=>{}),l=(0,n.useRef)(()=>{});return(0,n.useMemo)(()=>e&&t?n=>{null===n?(r.current(),l.current()):(r.current=u(e,n),l.current=u(t,n))}:e||t,[e,t])}function u(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let r=e(t);return"function"==typeof r?r:()=>e(null)}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},2938:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RouterContext",{enumerable:!0,get:function(){return n}});let n=r(744)._(r(2115)).default.createContext(null)},6497:e=>{var t,r;r=function(e){var t=1;return"-"===e[0]&&(t=-1,e=e.substr(1)),function(r,n){return(r[e]<n[e]?-1:r[e]>n[e]?1:0)*t}},t=function(){var e=arguments;return function(t,n){for(var l=e.length,u=0,a=0;0===u&&a<l;)u=r(e[a])(t,n),a++;return u}},e.exports=t},96:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var n=r(5155),l=r(9749),u=r(9948),a=r(376),o=r(2115);r(184);var s=r(9474),i=r(8825);function c(){let e,t,r,c,d,m,h,p,b,v;let y=(0,l.c)(13),{setContacts:j}=(0,i.P)(),x=(0,a.useRouter)(),_=(0,o.useRef)(null),g=(0,o.useRef)(null),w=(0,o.useRef)(null),P=(0,o.useRef)(null),N=(0,o.useRef)(null),C=(0,o.useRef)(null);y[0]!==x||y[1]!==j?(e=async function(e){var t,r,n,l,u,a;e.preventDefault();let o=(null===(t=_.current)||void 0===t?void 0:t.value)||"",i={id:crypto.randomUUID(),firstName:o.split(" ")[0]||"",lastName:o.split(" ")[1]||"",gender:(null===(r=g.current)||void 0===r?void 0:r.value)||"M",email:(null===(n=w.current)||void 0===n?void 0:n.value)||"badentry@email.xyz",phone:(null===(l=P.current)||void 0===l?void 0:l.value)||"+123",height:(null===(u=N.current)||void 0===u?void 0:u.value)||100.5,weight:(null===(a=C.current)||void 0===a?void 0:a.value)||50.5};j(await (0,s.vY)(i)),console.log(i),[_,g,w,P,N,C].forEach(f),x.push("/contacts/")},y[0]=x,y[1]=j,y[2]=e):e=y[2];let I=e;return y[3]===Symbol.for("react.memo_cache_sentinel")?(t=(0,n.jsx)("h1",{children:"Create New Contact"}),y[3]=t):t=y[3],y[4]===Symbol.for("react.memo_cache_sentinel")?(r=(0,n.jsxs)("div",{className:"createInput",children:[(0,n.jsx)("label",{htmlFor:"formName",children:"Name:"}),(0,n.jsx)("input",{ref:_,name:"formName",placeholder:"First and Last Name",required:!0,type:"text"})]}),y[4]=r):r=y[4],y[5]===Symbol.for("react.memo_cache_sentinel")?(c=(0,n.jsxs)("div",{className:"formRow",children:[r,(0,n.jsxs)("div",{className:"createInput",children:[(0,n.jsx)("label",{htmlFor:"formGender",children:"Gender:"}),(0,n.jsx)("input",{ref:g,name:"formGender",placeholder:"M/F",type:"text"})]})]}),y[5]=c):c=y[5],y[6]===Symbol.for("react.memo_cache_sentinel")?(d=(0,n.jsxs)("div",{className:"createInput",children:[(0,n.jsx)("label",{htmlFor:"formEmail",children:"Email:"}),(0,n.jsx)("input",{ref:w,name:"formEmail",placeholder:"abc@xyzmail.com",type:"email"})]}),y[6]=d):d=y[6],y[7]===Symbol.for("react.memo_cache_sentinel")?(m=(0,n.jsxs)("div",{className:"formRow",children:[d,(0,n.jsxs)("div",{className:"createInput",children:[(0,n.jsx)("label",{htmlFor:"formPhone",children:"Phone:"}),(0,n.jsx)("input",{ref:P,name:"formPhone",placeholder:"+234 ...",type:"tel"})]})]}),y[7]=m):m=y[7],y[8]===Symbol.for("react.memo_cache_sentinel")?(h=(0,n.jsxs)("div",{className:"createInput",children:[(0,n.jsx)("label",{htmlFor:"formHeight",children:"Height:"}),(0,n.jsx)("input",{ref:N,name:"formHeight",placeholder:"1X.xx",type:"number"})]}),y[8]=h):h=y[8],y[9]===Symbol.for("react.memo_cache_sentinel")?(p=(0,n.jsxs)("div",{className:"createInputs",children:[c,m,(0,n.jsxs)("div",{className:"formRow",children:[h,(0,n.jsxs)("div",{className:"createInput",children:[(0,n.jsx)("label",{htmlFor:"formWeight",children:"Weight:"}),(0,n.jsx)("input",{ref:C,name:"formWeight",placeholder:"1X.xx",type:"number"})]})]})]}),y[9]=p):p=y[9],y[10]===Symbol.for("react.memo_cache_sentinel")?(b=(0,n.jsx)("div",{className:"submitInputs",children:(0,n.jsx)("button",{type:"submit",children:"Submit"})}),y[10]=b):b=y[10],y[11]!==I?(v=(0,n.jsxs)("div",{children:[t,(0,n.jsxs)(u.default,{className:"createContact",onSubmit:I,children:[p,b]})]}),y[11]=I,y[12]=v):v=y[12],v}function f(e){e.current&&(e.current.value="")}},8825:(e,t,r)=>{"use strict";r.d(t,{P:()=>s,default:()=>i});var n=r(5155),l=r(9749),u=r(2115),a=r(9474);let o=(0,u.createContext)(null);function s(){let e=(0,u.useContext)(o);if(!e)throw Error("useContacts must be used within a ContactsProvider");return e}function i(e){let t,r,s,i,c;let f=(0,l.c)(8),{children:d}=e;f[0]===Symbol.for("react.memo_cache_sentinel")?(t=[],f[0]=t):t=f[0];let[m,h]=(0,u.useState)(t);return f[1]===Symbol.for("react.memo_cache_sentinel")?(r=()=>{let e=new AbortController;return(0,a.Ay)(e.signal).then(e=>{h(e)}),()=>e.abort()},s=[],f[1]=r,f[2]=s):(r=f[1],s=f[2]),(0,u.useEffect)(r,s),f[3]!==m?(i={contacts:m,setContacts:h},f[3]=m,f[4]=i):i=f[4],f[5]!==d||f[6]!==i?(c=(0,n.jsx)(o.Provider,{value:i,children:d}),f[5]=d,f[6]=i,f[7]=c):c=f[7],c}},9474:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>o,vY:()=>i});var n=r(9332),l=r.n(n),u=r(6497),a=r.n(u);async function o(e){let t=await fetch("https://dummyjson.com/users?limit=50&sortBy=firstName&order=asc",{signal:e}),r=(await t.json()).users;return r&&r.sort(a()("firstName","lastName")),l().setItem("contacts",r),console.log("Loading data for the first time"),r}async function s(){let e=await l().getItem("contacts");return e||(e=[]),e.sort(a()("firstName","lastName"))}async function i(e){let t={...e,createdAt:Date.now()},r=await s();return r.unshift(t),await l().setItem("contacts",r),r.sort(a()("firstName","lastName"))}},184:()=>{}},e=>{var t=t=>e(e.s=t);e.O(0,[569,171,441,75,358],()=>t(4775)),_N_E=e.O()}]);