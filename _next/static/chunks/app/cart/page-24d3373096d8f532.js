(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5],{4775:(e,t,r)=>{Promise.resolve().then(r.bind(r,96))},9948:(e,t,r)=>{"use strict";r.d(t,{default:()=>l.a});var n=r(6791),l=r.n(n)},376:(e,t,r)=>{"use strict";var n=r(3192);r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}})},6791:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return d}});let n=r(5155),l=r(2115),u=r(9430),o=r(7234),a=r(9551),i=r(748),c=r(6267),s=r(2938),f=["method","encType","target"];function d(e){let{replace:t,scroll:r,prefetch:d,ref:v,...y}=e,j=function(){let e=(0,l.useContext)(s.RouterContext),t=(0,l.useContext)(i.AppRouterContext);return e||t}(),x=y.action,_="string"==typeof x,g=!1===d||null===d?d:null;for(let e of f)e in y&&delete y[e];let w=m(j)&&_&&null===g,[N,P]=(0,o.useIntersection)({rootMargin:"200px",disabled:!w}),C=(0,a.useMergedRef)(N,null!=v?v:null);if((0,l.useEffect)(()=>{if(P&&w)try{let e=c.PrefetchKind.AUTO;j.prefetch(x,{kind:e})}catch(e){console.error(e)}},[w,P,x,g,j]),!_)return(0,n.jsx)("form",{...y,ref:C});let I=(0,u.addBasePath)(x);return(0,n.jsx)("form",{...y,ref:C,action:I,onSubmit:e=>(function(e,t){let r,{actionHref:n,onSubmit:l,replace:u,scroll:o,router:a}=t;if("function"==typeof l&&(l(e),e.defaultPrevented))return;let i=e.currentTarget,c=e.nativeEvent.submitter,s=n;if(c){if(function(e){let t=e.getAttribute("formEncType");if(null!==t&&!p(t))return!0;let r=e.getAttribute("formMethod");if(null!==r&&!h(r))return!0;let n=e.getAttribute("formTarget");return!(null===n||b(n))}(c)||function(e){let t=e.getAttribute("formAction");return t&&/\s*javascript:/i.test(t)}(c))return;let e=c.getAttribute("formAction");null!==e&&(s=e)}try{let e=window.location.href;r=new URL(s,e)}catch(e){throw Error('Cannot parse form action "'+s+'" as a URL',{cause:e})}for(let[e,t]of(r.searchParams.size&&(r.search=""),new FormData(i)))"string"!=typeof t&&(t=t.name),r.searchParams.append(e,t);e.preventDefault();let f=u?"replace":"push",d=r.href;m(a)?a[f](d,{scroll:o}):a[f](d,void 0,{scroll:o})})(e,{router:j,actionHref:I,replace:t,scroll:r,onSubmit:y.onSubmit})})}function m(e){return!("asPath"in e)}let p=e=>"application/x-www-form-urlencoded"===e,h=e=>"get"===e,b=e=>"_self"===e;("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},5033:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{cancelIdleCallback:function(){return n},requestIdleCallback:function(){return r}});let r="undefined"!=typeof self&&self.requestIdleCallback&&self.requestIdleCallback.bind(window)||function(e){let t=Date.now();return self.setTimeout(function(){e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-t))}})},1)},n="undefined"!=typeof self&&self.cancelIdleCallback&&self.cancelIdleCallback.bind(window)||function(e){return clearTimeout(e)};("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},7234:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useIntersection",{enumerable:!0,get:function(){return i}});let n=r(2115),l=r(5033),u="function"==typeof IntersectionObserver,o=new Map,a=[];function i(e){let{rootRef:t,rootMargin:r,disabled:i}=e,c=i||!u,[s,f]=(0,n.useState)(!1),d=(0,n.useRef)(null),m=(0,n.useCallback)(e=>{d.current=e},[]);return(0,n.useEffect)(()=>{if(u){if(c||s)return;let e=d.current;if(e&&e.tagName)return function(e,t,r){let{id:n,observer:l,elements:u}=function(e){let t;let r={root:e.root||null,margin:e.rootMargin||""},n=a.find(e=>e.root===r.root&&e.margin===r.margin);if(n&&(t=o.get(n)))return t;let l=new Map;return t={id:r,observer:new IntersectionObserver(e=>{e.forEach(e=>{let t=l.get(e.target),r=e.isIntersecting||e.intersectionRatio>0;t&&r&&t(r)})},e),elements:l},a.push(r),o.set(r,t),t}(r);return u.set(e,t),l.observe(e),function(){if(u.delete(e),l.unobserve(e),0===u.size){l.disconnect(),o.delete(n);let e=a.findIndex(e=>e.root===n.root&&e.margin===n.margin);e>-1&&a.splice(e,1)}}}(e,e=>e&&f(e),{root:null==t?void 0:t.current,rootMargin:r})}else if(!s){let e=(0,l.requestIdleCallback)(()=>f(!0));return()=>(0,l.cancelIdleCallback)(e)}},[c,r,t,s,d.current]),[m,s,(0,n.useCallback)(()=>{f(!1)},[])]}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},9551:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useMergedRef",{enumerable:!0,get:function(){return l}});let n=r(2115);function l(e,t){let r=(0,n.useRef)(()=>{}),l=(0,n.useRef)(()=>{});return(0,n.useMemo)(()=>e&&t?n=>{null===n?(r.current(),l.current()):(r.current=u(e,n),l.current=u(t,n))}:e||t,[e,t])}function u(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let r=e(t);return"function"==typeof r?r:()=>e(null)}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},2938:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RouterContext",{enumerable:!0,get:function(){return n}});let n=r(744)._(r(2115)).default.createContext(null)},6497:e=>{var t,r;r=function(e){var t=1;return"-"===e[0]&&(t=-1,e=e.substr(1)),function(r,n){return(r[e]<n[e]?-1:r[e]>n[e]?1:0)*t}},t=function(){var e=arguments;return function(t,n){for(var l=e.length,u=0,o=0;0===u&&o<l;)u=r(e[o])(t,n),o++;return u}},e.exports=t},96:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});var n=r(5155),l=r(9749),u=r(9948),o=r(376),a=r(2115);r(184);var i=r(9474),c=r(8825);function s(){let e,t,r,s,d,m,p,h,b,v;let y=(0,l.c)(13),{setContacts:j}=(0,c.P)(),x=(0,o.useRouter)(),_=(0,a.useRef)(null),g=(0,a.useRef)(null),w=(0,a.useRef)(null),N=(0,a.useRef)(null),P=(0,a.useRef)(null),C=(0,a.useRef)(null);y[0]!==x||y[1]!==j?(e=async function(e){var t,r,n,l,u,o;e.preventDefault();let a=(null===(t=_.current)||void 0===t?void 0:t.value)||"",c={id:crypto.randomUUID(),firstName:a.split(" ")[0]||"",lastName:a.split(" ")[1]||"",gender:(null===(r=g.current)||void 0===r?void 0:r.value)||"M",email:(null===(n=w.current)||void 0===n?void 0:n.value)||"badentry@email.xyz",phone:(null===(l=N.current)||void 0===l?void 0:l.value)||"+123",height:(null===(u=P.current)||void 0===u?void 0:u.value)||100.5,weight:(null===(o=C.current)||void 0===o?void 0:o.value)||50.5};j(await (0,i.vY)(c)),console.log(c),[_,g,w,N,P,C].forEach(f),x.push("/contacts/")},y[0]=x,y[1]=j,y[2]=e):e=y[2];let I=e;return y[3]===Symbol.for("react.memo_cache_sentinel")?(t=(0,n.jsx)("h1",{children:"Create New Contact"}),y[3]=t):t=y[3],y[4]===Symbol.for("react.memo_cache_sentinel")?(r=(0,n.jsxs)("div",{className:"createInput",children:[(0,n.jsx)("label",{htmlFor:"formName",children:"Name:"}),(0,n.jsx)("input",{ref:_,name:"formName",placeholder:"First and Last Name",required:!0,type:"text"})]}),y[4]=r):r=y[4],y[5]===Symbol.for("react.memo_cache_sentinel")?(s=(0,n.jsxs)("div",{className:"formRow",children:[r,(0,n.jsxs)("div",{className:"createInput",children:[(0,n.jsx)("label",{htmlFor:"formGender",children:"Gender:"}),(0,n.jsx)("input",{ref:g,name:"formGender",placeholder:"M/F",type:"text"})]})]}),y[5]=s):s=y[5],y[6]===Symbol.for("react.memo_cache_sentinel")?(d=(0,n.jsxs)("div",{className:"createInput",children:[(0,n.jsx)("label",{htmlFor:"formEmail",children:"Email:"}),(0,n.jsx)("input",{ref:w,name:"formEmail",placeholder:"abc@xyzmail.com",type:"email"})]}),y[6]=d):d=y[6],y[7]===Symbol.for("react.memo_cache_sentinel")?(m=(0,n.jsxs)("div",{className:"formRow",children:[d,(0,n.jsxs)("div",{className:"createInput",children:[(0,n.jsx)("label",{htmlFor:"formPhone",children:"Phone:"}),(0,n.jsx)("input",{ref:N,name:"formPhone",placeholder:"+234 ...",type:"tel"})]})]}),y[7]=m):m=y[7],y[8]===Symbol.for("react.memo_cache_sentinel")?(p=(0,n.jsxs)("div",{className:"createInput",children:[(0,n.jsx)("label",{htmlFor:"formHeight",children:"Height:"}),(0,n.jsx)("input",{ref:P,name:"formHeight",placeholder:"1X.xx",type:"number"})]}),y[8]=p):p=y[8],y[9]===Symbol.for("react.memo_cache_sentinel")?(h=(0,n.jsxs)("div",{className:"createInputs",children:[s,m,(0,n.jsxs)("div",{className:"formRow",children:[p,(0,n.jsxs)("div",{className:"createInput",children:[(0,n.jsx)("label",{htmlFor:"formWeight",children:"Weight:"}),(0,n.jsx)("input",{ref:C,name:"formWeight",placeholder:"1X.xx",type:"number"})]})]})]}),y[9]=h):h=y[9],y[10]===Symbol.for("react.memo_cache_sentinel")?(b=(0,n.jsx)("div",{className:"submitInputs",children:(0,n.jsx)("button",{type:"submit",children:"Submit"})}),y[10]=b):b=y[10],y[11]!==I?(v=(0,n.jsxs)("div",{children:[t,(0,n.jsxs)(u.default,{className:"createContact",onSubmit:I,children:[h,b]})]}),y[11]=I,y[12]=v):v=y[12],v}function f(e){e.current&&(e.current.value="")}},8825:(e,t,r)=>{"use strict";r.d(t,{P:()=>i,default:()=>c});var n=r(5155),l=r(9749),u=r(2115),o=r(9474);let a=(0,u.createContext)(null);function i(){let e=(0,u.useContext)(a);if(!e)throw Error("useContacts must be used within a ContactsProvider");return e}function c(e){let t,r,i,c,s;let f=(0,l.c)(8),{children:d}=e;f[0]===Symbol.for("react.memo_cache_sentinel")?(t=[],f[0]=t):t=f[0];let[m,p]=(0,u.useState)(t);return f[1]===Symbol.for("react.memo_cache_sentinel")?(r=()=>{let e=new AbortController;return(0,o.Ay)(e.signal).then(e=>{p(e)}),()=>e.abort()},i=[],f[1]=r,f[2]=i):(r=f[1],i=f[2]),(0,u.useEffect)(r,i),f[3]!==m?(c={contacts:m,setContacts:p},f[3]=m,f[4]=c):c=f[4],f[5]!==d||f[6]!==c?(s=(0,n.jsx)(a.Provider,{value:c,children:d}),f[5]=d,f[6]=c,f[7]=s):s=f[7],s}},9474:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>a,vY:()=>c});var n=r(9332),l=r.n(n),u=r(6497),o=r.n(u);async function a(e){let t=await fetch("https://dummyjson.com/users?limit=50&sortBy=firstName&order=asc",{signal:e}),r=(await t.json()).users;return r&&r.sort(o()("firstName","lastName")),l().setItem("contacts",r),console.log("Loading data for the first time"),r}async function i(){let e=await l().getItem("contacts");return e||(e=[]),e.sort(o()("firstName","lastName"))}async function c(e){let t={...e,createdAt:Date.now()},r=await i();return r.unshift(t),await l().setItem("contacts",r),r.sort(o()("firstName","lastName"))}},184:()=>{}},e=>{var t=t=>e(e.s=t);e.O(0,[569,171,441,75,358],()=>t(4775)),_N_E=e.O()}]);